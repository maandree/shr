.TH SHR_CHMOD 3 SHR-%VERSION%
.SH NAME
.B shr_chmod
\- Change the permissions of a shared ring buffer.
.SH SYNOPSIS
.LP
.nf
#include <shr.h>
.P
__attribute__((nonnull))
int shr_chmod(const shr_t *restrict \fIshr\fP, mode_t \fIpermissions\fP);
.fi
.P
Link with \fI\-lshr\fP.
.SH DESCRIPTION
The
.BR shr_chmod ()
function gives access to a shared ring buffer according to the following rules:
.TP
*
If (\fIpermissions\fP &S_IRWXU) the owner should be given full access
to the shared ring buffer. Otherwise the owner should have no access.
.TP
*
If (\fIpermissions\fP &S_IRWXG) the group should be given read and
write shared ring buffer. Otherwise the group should have no access.
.TP
*
If (\fIpermissions\fP &S_IRWXO) others (except the group) should be
given read and write access to the bus. Otherwise others should have
no access.
.SH RETURN VALUES
Upon successful completion, the function returns 0.
Otherwise the function returns \-1 and sets
\fIerrno\fP to indicate the error.
.SH ERRORS
This function may fail with the errors
.BR EACCES ,
.BR EPERM
and 
.BR EINVAL
as specified for the functions
.BR shmctl (3)
and
.BR semctl (3).
.SH SEE ALSO
.BR shr_create (3),
.BR shr_remove (3),
.BR shr_remove_by_key (3),
.BR shr_open (3),
.BR shr_reverse_dup (3),
.BR shr_close (3),
.BR shr_chown (3),
.BR shr_chmod (3),
.BR shr_stat (3),
.BR shr_key_to_str (3),
.BR shr_str_to_key (3),
.BR shr_read (3),
.BR shr_read_try (3),
.BR shr_read_timed (3),
.BR shr_read_done (3),
.BR shr_write (3),
.BR shr_write_try (3),
.BR shr_write_timed (3),
.BR shr_write_done (3)
.SH AUTHORS
Principal author, Mattias Andr√©e.  See the LICENSE file for the full
list of authors.
.SH LICENSE
MIT/X Consortium License.
.SH BUGS
Please report bugs to https://github.com/maandree/shr/issues or to
maandree@member.fsf.org
