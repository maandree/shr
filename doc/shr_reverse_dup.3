.TH SHR_REVERSE_DUP 3 SHR-%VERSION%
.SH NAME
.B shr_reverse_dup
\- Open a shared ring buffer with reversed direction.
.SH SYNOPSIS
.LP
.nf
#include <shr.h>
.P
__attribute__((nonnull))
int shr_reverse_dup(const shr_t *restrict \fIold\fP, shr_t *restrict \fInew\fP);
.fi
.P
Link with \fI\-lshr\fP.
.SH DESCRIPTION
The
.BR shr_reverse_dup ()
function duplicates a sharing ring buffer descriptor
but reverses the direction, so that you get an instance
for writting if you already have one for reading, or
vice versa.
.P
This is only useful if you have used
.BR shr_open ()
to create a private shared ring buffer.
.P
The
.B shr_reverse_dup ()
function will reopen the shared ring buffer, thus,
according to \fBshr_open\fP(), the behaviour is
unspecified if the function is used more than once
on a shared ring buffer or if the shared ring buffer
already has been opened for both directions.
.SH RETURN VALUES
Upon successful completion, the function returns 0.
Otherwise the function returns \-1 and sets
\fIerrno\fP to indicate the error.
.SH ERRORS
.SH SEE ALSO
.BR shr_create (3),
.BR shr_remove (3),
.BR shr_remove_by_key (3),
.BR shr_open (3),
.BR shr_reverse_dup (3),
.BR shr_close (3),
.BR shr_chown (3),
.BR shr_chmod (3),
.BR shr_stat (3),
.BR shr_key_to_str (3),
.BR shr_str_to_key (3),
.BR shr_read (3),
.BR shr_read_try (3),
.BR shr_read_timed (3),
.BR shr_read_done (3),
.BR shr_write (3),
.BR shr_write_try (3),
.BR shr_write_timed (3),
.BR shr_write_done (3)
.SH AUTHORS
Principal author, Mattias Andr√©e.  See the LICENSE file for the full
list of authors.
.SH LICENSE
MIT/X Consortium License.
.SH BUGS
Please report bugs to https://github.com/maandree/shr/issues or to
maandree@member.fsf.org
